_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{"7ljp":function(e,t,n){"use strict";n.r(t),n.d(t,"MDXContext",(function(){return d})),n.d(t,"MDXProvider",(function(){return m})),n.d(t,"mdx",(function(){return j})),n.d(t,"useMDXComponents",(function(){return u})),n.d(t,"withMDXComponents",(function(){return p}));var a=n("q1tI"),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=r.a.createContext({}),p=function(e){return function(t){var n=u(t.components);return r.a.createElement(e,s({},t,{components:n}))}},u=function(e){var t=r.a.useContext(d),n=t;return e&&(n="function"===typeof e?e(t):c(c({},t),e)),n},m=function(e){var t=u(e.components);return r.a.createElement(d.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},O=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,l=o(e,["components","mdxType","originalType","parentName"]),d=u(n),p=a,m=d["".concat(s,".").concat(p)]||d[p]||b[p]||i;return n?r.a.createElement(m,c(c({ref:t},l),{},{components:n})):r.a.createElement(m,c({ref:t},l))}));function j(e,t){var n=arguments,a=t&&t.mdxType;if("string"===typeof e||a){var i=n.length,s=new Array(i);s[0]=O;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"===typeof e?e:a,s[1]=l;for(var o=2;o<i;o++)s[o]=n[o];return r.a.createElement.apply(null,s)}return r.a.createElement.apply(null,n)}O.displayName="MDXCreateElement"},"CP+N":function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return c})),n.d(t,"default",(function(){return d}));var a=n("wx14"),r=n("Ff2n"),i=n("q1tI"),s=n.n(i),l=n("7ljp"),c=(s.a.createElement,{name:"Node",tableOfContents:{depth:0,children:[{depth:1,slug:"#molasses-node-sdk",title:"Molasses Node SDK",children:[{depth:2,slug:"#install",title:"Install"},{depth:2,slug:"#usage",title:"Usage",children:[{depth:3,slug:"#check-if-feature-is-active",title:"Check if feature is active"},{depth:3,slug:"#experiments",title:"Experiments"}]},{depth:2,slug:"#methods",title:"Methods",children:[{depth:3,slug:"#molassesclient",title:"MolassesClient"},{depth:3,slug:"#init",title:"init"},{depth:3,slug:"#isactivefeaturekey-string",title:"isActive(featureKey: string)"},{depth:3,slug:"#isactivefeaturekeystring-user-user",title:"isActive(featureKey:string, user: User)"},{depth:3,slug:"#experimentsuccess",title:"experimentSuccess"},{depth:3,slug:"#stop",title:"stop"}]}]}]}}),o={meta:c};function d(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(l.mdx)("wrapper",Object(a.a)({},o,n,{components:t,mdxType:"MDXLayout"}),Object(l.mdx)("h1",{id:"molasses-node-sdk"},"Molasses Node SDK"),Object(l.mdx)("p",null,"It includes the Node (with TypeScript support) SDK for Molasses. It allows you to evaluate user's status for a feature. It also helps simplify logging events for A/B testing."),Object(l.mdx)("p",null,Object(l.mdx)("inlineCode",{parentName:"p"},"Molasses-server")," uses polling to check if you have updated features. Once initialized, it takes microseconds to evaluate if a user is active."),Object(l.mdx)("h2",{id:"install"},"Install"),Object(l.mdx)("p",null,Object(l.mdx)("inlineCode",{parentName:"p"},"npm install @molassesapp/molasses-server")),Object(l.mdx)("p",null,Object(l.mdx)("inlineCode",{parentName:"p"},"yarn add @molassesapp/molasses-server")),Object(l.mdx)("h2",{id:"usage"},"Usage"),Object(l.mdx)("p",null,"To Require:"),Object(l.mdx)("pre",null,Object(l.mdx)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'import { MolassesClient } from "@molassesapp/molasses-server";\n// or\nconst { MolassesClient } = require("@molassesapp/molasses-server");\n')),Object(l.mdx)("p",null,"Start by initializing the client with an ",Object(l.mdx)("inlineCode",{parentName:"p"},"APIKey"),". This begins the polling for any feature updates. The updates happen every 15 seconds. This can be overriden with the ",Object(l.mdx)("inlineCode",{parentName:"p"},"refreshInterval")," field. If you decide not to track analytics events (experiment started, experiment success) you can turn them off by setting the ",Object(l.mdx)("inlineCode",{parentName:"p"},"sendEvents")," field to ",Object(l.mdx)("inlineCode",{parentName:"p"},"false")),Object(l.mdx)("pre",null,Object(l.mdx)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'// Initialize with your API Key\nconst client = new MolassesClient({\n  APIKey: "testapikey",\n});\n\n// Then init which is a promise\nawait client.init();\n')),Object(l.mdx)("h3",{id:"check-if-feature-is-active"},"Check if feature is active"),Object(l.mdx)("p",null,"You can call ",Object(l.mdx)("inlineCode",{parentName:"p"},"isActive")," with the key name and optionally a user's information. The ID field is used to determine whether a user is part of a percentage of users and uniquely identies a user. If you have other user segments based on user parameterss you can pass those in the ",Object(l.mdx)("inlineCode",{parentName:"p"},"params")," field."),Object(l.mdx)("pre",null,Object(l.mdx)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'// Once initialized you can start calling isActive\nclient.isActive("FOO_TEST", {\n  id: "123",\n  params: {\n    isBetaUser: "true",\n  },\n});\n')),Object(l.mdx)("p",null,"You can check if a feature is active for a user who is anonymous by just calling ",Object(l.mdx)("inlineCode",{parentName:"p"},"isActive")," with the key. You won't be able to do percentage roll outs or track that user's behavior."),Object(l.mdx)("pre",null,Object(l.mdx)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'client.isActive("FOO_TEST");\n')),Object(l.mdx)("h3",{id:"experiments"},"Experiments"),Object(l.mdx)("p",null,"To track whether an experiment was successful you can call ",Object(l.mdx)("inlineCode",{parentName:"p"},"ExperimentSuccess"),". ExperimentSuccess takes the feature's name, the molasses User and any additional parameters for the event."),Object(l.mdx)("pre",null,Object(l.mdx)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'client.ExperimentSuccess(\n  "GOOGLE_SSO",\n  {\n    id: "baz",\n    params: {\n      teamId: "12356",\n    },\n  },\n  {\n    version: "v2.3.0",\n  }\n);\n')),Object(l.mdx)("hr",null),Object(l.mdx)("h2",{id:"methods"},"Methods"),Object(l.mdx)("h3",{id:"molassesclient"},"MolassesClient"),Object(l.mdx)("p",null,Object(l.mdx)("inlineCode",{parentName:"p"},"new MolassesClient(options)")),Object(l.mdx)("p",null,"Creates a new Molasses client. It takes a set of options."),Object(l.mdx)("p",null,"Options"),Object(l.mdx)("table",null,Object(l.mdx)("thead",{parentName:"table"},Object(l.mdx)("tr",{parentName:"thead"},Object(l.mdx)("th",Object(a.a)({parentName:"tr"},{align:null}),"Field"),Object(l.mdx)("th",Object(a.a)({parentName:"tr"},{align:null}),"Required"),Object(l.mdx)("th",Object(a.a)({parentName:"tr"},{align:null}),"Type"),Object(l.mdx)("th",Object(a.a)({parentName:"tr"},{align:null}),"Description"))),Object(l.mdx)("tbody",{parentName:"table"},Object(l.mdx)("tr",{parentName:"tbody"},Object(l.mdx)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.mdx)("inlineCode",{parentName:"td"},"apiKey")),Object(l.mdx)("td",Object(a.a)({parentName:"tr"},{align:null}),"required"),Object(l.mdx)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.mdx)("inlineCode",{parentName:"td"},"string")),Object(l.mdx)("td",Object(a.a)({parentName:"tr"},{align:null}),"The API Key for the current environment")),Object(l.mdx)("tr",{parentName:"tbody"},Object(l.mdx)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.mdx)("inlineCode",{parentName:"td"},"URL")),Object(l.mdx)("td",Object(a.a)({parentName:"tr"},{align:null}),"optional"),Object(l.mdx)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.mdx)("inlineCode",{parentName:"td"},"string")),Object(l.mdx)("td",Object(a.a)({parentName:"tr"},{align:null}),"the base URL for Molasses")),Object(l.mdx)("tr",{parentName:"tbody"},Object(l.mdx)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.mdx)("inlineCode",{parentName:"td"},"sendEvents")),Object(l.mdx)("td",Object(a.a)({parentName:"tr"},{align:null}),"optional"),Object(l.mdx)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.mdx)("inlineCode",{parentName:"td"},"boolean")),Object(l.mdx)("td",Object(a.a)({parentName:"tr"},{align:null}),"Whether to send analytic events back to Molasses. Defaults to ",Object(l.mdx)("inlineCode",{parentName:"td"},"true"),".")),Object(l.mdx)("tr",{parentName:"tbody"},Object(l.mdx)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.mdx)("inlineCode",{parentName:"td"},"refreshInterval")),Object(l.mdx)("td",Object(a.a)({parentName:"tr"},{align:null}),"optional"),Object(l.mdx)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(l.mdx)("inlineCode",{parentName:"td"},"number")),Object(l.mdx)("td",Object(a.a)({parentName:"tr"},{align:null}),"How often Molasses should fetch the updated configuration. Defaults to ",Object(l.mdx)("inlineCode",{parentName:"td"},"15000"),",")))),Object(l.mdx)("h3",{id:"init"},"init"),Object(l.mdx)("p",null,Object(l.mdx)("inlineCode",{parentName:"p"},"init()")),Object(l.mdx)("p",null,"Fetches configuration of features and begins polling"),Object(l.mdx)("h3",{id:"isactivefeaturekey-string"},"isActive(featureKey: string)"),Object(l.mdx)("p",null,Object(l.mdx)("inlineCode",{parentName:"p"},"isActive(featureKey: string)")),Object(l.mdx)("p",null,"Will check if feature is active for ALL users"),Object(l.mdx)("h3",{id:"isactivefeaturekeystring-user-user"},"isActive(featureKey:string, user: User)"),Object(l.mdx)("p",null,Object(l.mdx)("inlineCode",{parentName:"p"},"isActive(featureKey: string, user: User)")),Object(l.mdx)("p",null,"Will check if the feature is active for this particular based on the segment they are in."),Object(l.mdx)("h3",{id:"experimentsuccess"},"experimentSuccess"),Object(l.mdx)("p",null,Object(l.mdx)("inlineCode",{parentName:"p"},"experimentSuccess(featureKey: string, additionalInformation: string[string], user: User)")),Object(l.mdx)("p",null,"Will send an event success message when a user completes a set goal. This includes, whether user was in the experimental group (control or experiment), the experiment that was being tested and other metadata. If you want to include additional metadata use the ",Object(l.mdx)("inlineCode",{parentName:"p"},"additionalInformation")," argument."),Object(l.mdx)("h3",{id:"stop"},"stop"),Object(l.mdx)("p",null,Object(l.mdx)("inlineCode",{parentName:"p"},"stop()")),Object(l.mdx)("p",null,"Stops polling"))}d.isMDXComponent=!0;var p={editThisPagePath:"pages/SDK/node.mdx"};for(var u in p)window[u]=p[u]},Ff2n:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("zLVn");function r(e,t){if(null==e)return{};var n,r,i=Object(a.a)(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},Qetd:function(e,t,n){"use strict";var a=Object.assign.bind(Object);e.exports=a,e.exports.default=e.exports},SExi:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/SDK/node",function(){return n("CP+N")}])},wx14:function(e,t,n){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return a}))},zLVn:function(e,t,n){"use strict";function a(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}n.d(t,"a",(function(){return a}))}},[["SExi",0,1]]]);